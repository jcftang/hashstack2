extends: [setuptools_package]

dependencies:
  build: [libressl, swig]
  run: []

sources:
 - url: https://pypi.python.org/packages/source/M/M2Crypto/M2Crypto-0.22.3.tar.gz
   key: tar.gz:mby37sax3fdsh2nulcqbbvlfgziqj6ck

build_stages:

- name: install
  after: setup_dirs
  handler: bash
  bash: |
    # build
    $PYTHON setup.py build build_ext --openssl=${LIBRESSL_DIR}
    # install
    $PYTHON setup.py install --prefix=${ARTIFACT}
